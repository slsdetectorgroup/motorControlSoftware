<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>INITIALIZE Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>INITIALIZE Class Reference</h1><!-- doxytag: class="INITIALIZE" -->reads config files, creates motor and interface objects, also executes commands from commandline  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="INITIALIZE_8h-source.html">INITIALIZE.h</a>&gt;</code>
<p>
<a href="classINITIALIZE-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#d449b07f9024ab728812748180192abd">INITIALIZE</a> (string const fName, string const fName2, string const fName3, string const fName4)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#9fadf98c6e3fc0d20b28b8f3d7801afc">~INITIALIZE</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#0ba58f818a59d3e19e8f9ce102df06fd">executeCommand</a> (int argc, char *args[], char mess[])</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#1ab0b5711449b286573c1d95504db1fd">initFluorNames</a> (string sLine, int &amp;fIndex)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#5eee98bd405ad4cfd0fe260d98b978f0">init</a> (int nArg, char *args[])</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#064d78dc9fb27b56bd39390433676388">getContInterface</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#bf270a48b13957eb07a8e58f4cc6ae9d">savePositions</a> (string const fName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#1a64807fb3acdbdd23b715d3d00b0151">saveToNewConfigFile</a> (string const oldFName, string const fName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#296f34b1ac675742808dc437b6a00a61">setOrigPositions</a> (string const fName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#65f9ea3685d657df8ab79d58aa9e0403">check_busy</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#30d76f241ac384ab65a9af04c904c912">ReadWarmupTimestamps</a> (string const fName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#a02b94de78b313ea365d0745578e27ce">WriteWarmupTimestamps</a> (string const fName)</td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#8321b07bfb045293e95c2696e1abe430">NUMBER_OF_CONTROLLERS</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#c9cdd0ea34944069e033d5bea7df8371">NUMBER_OF_INTERFACES</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">vector&lt; vector&lt; string &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#4a0e6ca9a987c9fc1aadc704af528f22">Controller</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">vector&lt; vector&lt; string &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classINITIALIZE.html#80045baf1093e1366a28972360659cb3">ContInterface</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
reads config files, creates motor and interface objects, also executes commands from commandline 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="d449b07f9024ab728812748180192abd"></a><!-- doxytag: member="INITIALIZE::INITIALIZE" ref="d449b07f9024ab728812748180192abd" args="(string const fName, string const fName2, string const fName3, string const fName4)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE::INITIALIZE           </td>
          <td>(</td>
          <td class="paramtype">string const &nbsp;</td>
          <td class="paramname"> <em>fName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string const &nbsp;</td>
          <td class="paramname"> <em>fName2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string const &nbsp;</td>
          <td class="paramname"> <em>fName3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string const &nbsp;</td>
          <td class="paramname"> <em>fName4</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor reads config files, gets the controller interface,creates motor objects and interface objects <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fName</em>&nbsp;</td><td>name of config file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fName2</em>&nbsp;</td><td>name of positions file to save the positions to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fName3</em>&nbsp;</td><td>name of new config file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fName4</em>&nbsp;</td><td>name of warmupTimingsstamp file </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="9fadf98c6e3fc0d20b28b8f3d7801afc"></a><!-- doxytag: member="INITIALIZE::~INITIALIZE" ref="9fadf98c6e3fc0d20b28b8f3d7801afc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE::~INITIALIZE           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor closes all the serial fds for the interface 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="65f9ea3685d657df8ab79d58aa9e0403"></a><!-- doxytag: member="INITIALIZE::check_busy" ref="65f9ea3685d657df8ab79d58aa9e0403" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void INITIALIZE::check_busy           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
waits till all the controllers are not busy 
</div>
</div><p>
<a class="anchor" name="0ba58f818a59d3e19e8f9ce102df06fd"></a><!-- doxytag: member="INITIALIZE::executeCommand" ref="0ba58f818a59d3e19e8f9ce102df06fd" args="(int argc, char *args[], char mess[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int INITIALIZE::executeCommand           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>mess</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
executes commands from the command line through both server and local <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>number of command line arguments - 1 (not including the object name eg ./localClient) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>array of command line arguments (not including the object name eg ./localClient </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mess</em>&nbsp;</td><td>message to be sent to client after executing the command </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 for successful command execution,-1 for fail </dd></dl>

</div>
</div><p>
<a class="anchor" name="064d78dc9fb27b56bd39390433676388"></a><!-- doxytag: member="INITIALIZE::getContInterface" ref="064d78dc9fb27b56bd39390433676388" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void INITIALIZE::getContInterface           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
called from <a class="el" href="classINITIALIZE.html#5eee98bd405ad4cfd0fe260d98b978f0">init()</a> after reading in all the controllers, gets the controller interface and sets the Controller[][] and ContInterface[][] values by sending 'getserialno' to each interface 
</div>
</div><p>
<a class="anchor" name="5eee98bd405ad4cfd0fe260d98b978f0"></a><!-- doxytag: member="INITIALIZE::init" ref="5eee98bd405ad4cfd0fe260d98b978f0" args="(int nArg, char *args[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void INITIALIZE::init           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nArg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
called from the constructor,creates motor/interface objects for current line read from config file, calls the <a class="el" href="classINITIALIZE.html#064d78dc9fb27b56bd39390433676388">getContInterface()</a> to get the controller interface after reading all controllers <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nArg</em>&nbsp;</td><td>number of arguments in current line of config file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>array of arguments in current line of config file </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="1ab0b5711449b286573c1d95504db1fd"></a><!-- doxytag: member="INITIALIZE::initFluorNames" ref="1ab0b5711449b286573c1d95504db1fd" args="(string sLine, int &amp;fIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void INITIALIZE::initFluorNames           </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>sLine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>fIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
executes commands from the command line through both server and local <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sLine</em>&nbsp;</td><td>the fluorescence line read from the config file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fIndex</em>&nbsp;</td><td>the index of fluorescence </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="30d76f241ac384ab65a9af04c904c912"></a><!-- doxytag: member="INITIALIZE::ReadWarmupTimestamps" ref="30d76f241ac384ab65a9af04c904c912" args="(string const fName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int INITIALIZE::ReadWarmupTimestamps           </td>
          <td>(</td>
          <td class="paramtype">string const &nbsp;</td>
          <td class="paramname"> <em>fName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
reads the warmupTimingstamps file upon startup <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fName</em>&nbsp;</td><td>name of file of the warmuptiming stamps returns 0 </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="bf270a48b13957eb07a8e58f4cc6ae9d"></a><!-- doxytag: member="INITIALIZE::savePositions" ref="bf270a48b13957eb07a8e58f4cc6ae9d" args="(string const fName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * INITIALIZE::savePositions           </td>
          <td>(</td>
          <td class="paramtype">string const &nbsp;</td>
          <td class="paramname"> <em>fName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the positions of the motors are saved to file before exiting from the program <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fName</em>&nbsp;</td><td>name of file the positions are saved in returns the errormessage </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="1a64807fb3acdbdd23b715d3d00b0151"></a><!-- doxytag: member="INITIALIZE::saveToNewConfigFile" ref="1a64807fb3acdbdd23b715d3d00b0151" args="(string const oldFName, string const fName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * INITIALIZE::saveToNewConfigFile           </td>
          <td>(</td>
          <td class="paramtype">string const &nbsp;</td>
          <td class="paramname"> <em>oldFName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string const &nbsp;</td>
          <td class="paramname"> <em>fName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
a new config file is written with any updated values <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oldFName</em>&nbsp;</td><td>the name of the config file used in the beginning </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fName</em>&nbsp;</td><td>the name of the new config file to save everything to returns the errormessage </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="296f34b1ac675742808dc437b6a00a61"></a><!-- doxytag: member="INITIALIZE::setOrigPositions" ref="296f34b1ac675742808dc437b6a00a61" args="(string const fName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void INITIALIZE::setOrigPositions           </td>
          <td>(</td>
          <td class="paramtype">string const &nbsp;</td>
          <td class="paramname"> <em>fName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
if the positions of the motors in config file(the ones being presently used) are different from the positions saved to file the last time, then it resets the positions of the motors to that of the file <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fName</em>&nbsp;</td><td>name of file the positions were saved in </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="a02b94de78b313ea365d0745578e27ce"></a><!-- doxytag: member="INITIALIZE::WriteWarmupTimestamps" ref="a02b94de78b313ea365d0745578e27ce" args="(string const fName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int INITIALIZE::WriteWarmupTimestamps           </td>
          <td>(</td>
          <td class="paramtype">string const &nbsp;</td>
          <td class="paramname"> <em>fName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
writes the warmupTimingstamps file upon gui close <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fName</em>&nbsp;</td><td>name of file of the warmuptiming stamps returns 0 </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="80045baf1093e1366a28972360659cb3"></a><!-- doxytag: member="INITIALIZE::ContInterface" ref="80045baf1093e1366a28972360659cb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;vector&lt;string&gt; &gt; <a class="el" href="classINITIALIZE.html#80045baf1093e1366a28972360659cb3">INITIALIZE::ContInterface</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
2-d array: 1st col is controller names, 2nd col is the port the controller is connected to 
</div>
</div><p>
<a class="anchor" name="4a0e6ca9a987c9fc1aadc704af528f22"></a><!-- doxytag: member="INITIALIZE::Controller" ref="4a0e6ca9a987c9fc1aadc704af528f22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;vector&lt;string&gt; &gt; <a class="el" href="classINITIALIZE.html#4a0e6ca9a987c9fc1aadc704af528f22">INITIALIZE::Controller</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
2-d array: 1st col is controller names, 2nd col is controller serial numbers 
</div>
</div><p>
<a class="anchor" name="8321b07bfb045293e95c2696e1abe430"></a><!-- doxytag: member="INITIALIZE::NUMBER_OF_CONTROLLERS" ref="8321b07bfb045293e95c2696e1abe430" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classINITIALIZE.html#8321b07bfb045293e95c2696e1abe430">INITIALIZE::NUMBER_OF_CONTROLLERS</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
number of controllers 
</div>
</div><p>
<a class="anchor" name="c9cdd0ea34944069e033d5bea7df8371"></a><!-- doxytag: member="INITIALIZE::NUMBER_OF_INTERFACES" ref="c9cdd0ea34944069e033d5bea7df8371" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classINITIALIZE.html#c9cdd0ea34944069e033d5bea7df8371">INITIALIZE::NUMBER_OF_INTERFACES</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
number of usb interfaces 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>XRayBoxServer/<a class="el" href="INITIALIZE_8h-source.html">INITIALIZE.h</a><li>XRayBoxServer/<a class="el" href="INITIALIZE_8cpp.html">INITIALIZE.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri Feb 22 09:15:49 2013 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
